{"version":3,"file":"error-handler.js","names":["GenericError","handleError","err","res","Error","e","status","message","error","origin","json"],"sources":["../../src/response/error-handler.js"],"sourcesContent":["import { GenericError } from './error.js';\n\n\nexport function handleError(err, res) {\n  if (err instanceof Error) {\n    const e = new GenericError({\n      status: err.status || 500,\n      message: err.message || 'An unknown error occurred',\n      error: err,\n      origin: 'external',\n    });\n    return res.status(e.status || 500).json(e)\n  }\n\n  // default for other errors\n  const e = new GenericError({\n    message: 'An unexpected error occurred',\n    error: err,\n    origin: 'unknown',\n  });\n  return res.status(e.status || 500).json(e)\n}"],"mappings":"AAAA,SAASA,YAAY;AAGrB,OAAO,SAASC,WAAWA,CAACC,GAAG,EAAEC,GAAG,EAAE;EACpC,IAAID,GAAG,YAAYE,KAAK,EAAE;IACxB,MAAMC,CAAC,GAAG,IAAIL,YAAY,CAAC;MACzBM,MAAM,EAAEJ,GAAG,CAACI,MAAM,IAAI,GAAG;MACzBC,OAAO,EAAEL,GAAG,CAACK,OAAO,IAAI,2BAA2B;MACnDC,KAAK,EAAEN,GAAG;MACVO,MAAM,EAAE;IACV,CAAC,CAAC;IACF,OAAON,GAAG,CAACG,MAAM,CAACD,CAAC,CAACC,MAAM,IAAI,GAAG,CAAC,CAACI,IAAI,CAACL,CAAC,CAAC;EAC5C;;EAEA;EACA,MAAMA,CAAC,GAAG,IAAIL,YAAY,CAAC;IACzBO,OAAO,EAAE,8BAA8B;IACvCC,KAAK,EAAEN,GAAG;IACVO,MAAM,EAAE;EACV,CAAC,CAAC;EACF,OAAON,GAAG,CAACG,MAAM,CAACD,CAAC,CAACC,MAAM,IAAI,GAAG,CAAC,CAACI,IAAI,CAACL,CAAC,CAAC;AAC5C","ignoreList":[]}