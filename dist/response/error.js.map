{"version":3,"file":"error.js","names":["GenericError","Error","constructor","data","error","status","message","origin","captureStackTrace","name","success","toJSON","ValidationError","AuthenticationError","AuthorizationError","NotFoundError","resource","ConflictError","DatabaseError","TeapotError","ErrorFactory","create","type","args","errorHandler","handleUserNotFound","handleInvalidInput","validationErrors","handleDatabaseError","handleGenericError"],"sources":["../../src/response/error.js"],"sourcesContent":["// Base API Error Class\nclass GenericError extends Error {\n  constructor({\n    data = null,\n    error = null,\n    status = 500,\n    message = 'Internal Server Error',\n    origin = 'hovi'\n  }) {\n    super(message);\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n\n    this.name = this.constructor.name;\n    this.success = false;\n    this.data = data;\n    this.error = error;\n    this.status = status;\n    this.message = message;\n    this.origin = origin;\n  }\n\n  toJSON() {\n    return {\n      success: false,\n      data: this.data,\n      error: this.error,\n      status: this.status,\n      message: this.message,\n      origin: this.origin\n    };\n  }\n}\n\n// Validation Errors\nclass ValidationError extends GenericError {\n  constructor(message = 'Validation Error', error = null) {\n    super({\n      status: 400,\n      message,\n      error\n    });\n  }\n}\n\n// Authentication Errors\nclass AuthenticationError extends GenericError {\n  constructor(message = 'Authentication Failed') {\n    super({\n      status: 401,\n      message\n    });\n  }\n}\n\n// Authorization Errors\nclass AuthorizationError extends GenericError {\n  constructor(message = 'Not Authorized') {\n    super({\n      status: 403,\n      message\n    });\n  }\n}\n\n// Not Found Errors\nclass NotFoundError extends GenericError {\n  constructor(resource = 'Resource') {\n    super({\n      status: 404,\n      message: `${resource} not found`\n    });\n  }\n}\n\n// Conflict Errors\nclass ConflictError extends GenericError {\n  constructor(message = 'Resource Conflict') {\n    super({\n      status: 409,\n      message\n    });\n  }\n}\n\n// Database Errors\nclass DatabaseError extends GenericError {\n  constructor(error) {\n    super({\n      status: 500,\n      message: 'Database Error',\n      error: error?.message || error\n    });\n  }\n}\n\n// Hasn't been implemented yet Errors\nclass TeapotError extends GenericError {\n  constructor(error) {\n    super({\n      status: 418,\n      message: 'Teapot Error',\n      error: error?.message || error\n    });\n  }\n}\n\n// Error Factory\nconst ErrorFactory = {\n  create: (type, ...args) => {\n    switch (type) {\n      case 'validation':\n        return new ValidationError(...args);\n      case 'authentication':\n        return new AuthenticationError(...args);\n      case 'authorization':\n        return new AuthorizationError(...args);\n      case 'notFound':\n        return new NotFoundError(...args);\n      case 'conflict':\n        return new ConflictError(...args);\n      case 'database':\n        return new DatabaseError(...args);\n      case 'teapot':\n        return new TeapotError(...args);\n      default:\n        return new GenericError({ message: args[0] });\n    }\n  }\n};\n\n// Usage Examples\nconst errorHandler = {\n  // In your routes/controllers\n  handleUserNotFound: () => {\n    throw new NotFoundError('User');\n  },\n\n  handleInvalidInput: (validationErrors) => {\n    throw new ValidationError('Invalid input data', validationErrors);\n  },\n\n  handleDatabaseError: (error) => {\n    throw new DatabaseError(error);\n  },\n\n  // Using the factory pattern\n  handleGenericError: (type, ...args) => {\n    throw ErrorFactory.create(type, ...args);\n  }\n};\n\nexport {\n  GenericError,\n  ValidationError,\n  AuthenticationError,\n  AuthorizationError,\n  NotFoundError,\n  ConflictError,\n  DatabaseError,\n  TeapotError,\n  ErrorFactory,\n  errorHandler\n}"],"mappings":"AAAA;AACA,MAAMA,YAAY,SAASC,KAAK,CAAC;EAC/BC,WAAWA,CAAC;IACVC,IAAI,GAAG,IAAI;IACXC,KAAK,GAAG,IAAI;IACZC,MAAM,GAAG,GAAG;IACZC,OAAO,GAAG,uBAAuB;IACjCC,MAAM,GAAG;EACX,CAAC,EAAE;IACD,KAAK,CAACD,OAAO,CAAC;IAEd,IAAIL,KAAK,CAACO,iBAAiB,EAAE;MAC3BP,KAAK,CAACO,iBAAiB,CAAC,IAAI,EAAE,IAAI,CAACN,WAAW,CAAC;IACjD;IAEA,IAAI,CAACO,IAAI,GAAG,IAAI,CAACP,WAAW,CAACO,IAAI;IACjC,IAAI,CAACC,OAAO,GAAG,KAAK;IACpB,IAAI,CAACP,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACC,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,MAAM,GAAGA,MAAM;EACtB;EAEAI,MAAMA,CAAA,EAAG;IACP,OAAO;MACLD,OAAO,EAAE,KAAK;MACdP,IAAI,EAAE,IAAI,CAACA,IAAI;MACfC,KAAK,EAAE,IAAI,CAACA,KAAK;MACjBC,MAAM,EAAE,IAAI,CAACA,MAAM;MACnBC,OAAO,EAAE,IAAI,CAACA,OAAO;MACrBC,MAAM,EAAE,IAAI,CAACA;IACf,CAAC;EACH;AACF;;AAEA;AACA,MAAMK,eAAe,SAASZ,YAAY,CAAC;EACzCE,WAAWA,CAACI,OAAO,GAAG,kBAAkB,EAAEF,KAAK,GAAG,IAAI,EAAE;IACtD,KAAK,CAAC;MACJC,MAAM,EAAE,GAAG;MACXC,OAAO;MACPF;IACF,CAAC,CAAC;EACJ;AACF;;AAEA;AACA,MAAMS,mBAAmB,SAASb,YAAY,CAAC;EAC7CE,WAAWA,CAACI,OAAO,GAAG,uBAAuB,EAAE;IAC7C,KAAK,CAAC;MACJD,MAAM,EAAE,GAAG;MACXC;IACF,CAAC,CAAC;EACJ;AACF;;AAEA;AACA,MAAMQ,kBAAkB,SAASd,YAAY,CAAC;EAC5CE,WAAWA,CAACI,OAAO,GAAG,gBAAgB,EAAE;IACtC,KAAK,CAAC;MACJD,MAAM,EAAE,GAAG;MACXC;IACF,CAAC,CAAC;EACJ;AACF;;AAEA;AACA,MAAMS,aAAa,SAASf,YAAY,CAAC;EACvCE,WAAWA,CAACc,QAAQ,GAAG,UAAU,EAAE;IACjC,KAAK,CAAC;MACJX,MAAM,EAAE,GAAG;MACXC,OAAO,EAAE,GAAGU,QAAQ;IACtB,CAAC,CAAC;EACJ;AACF;;AAEA;AACA,MAAMC,aAAa,SAASjB,YAAY,CAAC;EACvCE,WAAWA,CAACI,OAAO,GAAG,mBAAmB,EAAE;IACzC,KAAK,CAAC;MACJD,MAAM,EAAE,GAAG;MACXC;IACF,CAAC,CAAC;EACJ;AACF;;AAEA;AACA,MAAMY,aAAa,SAASlB,YAAY,CAAC;EACvCE,WAAWA,CAACE,KAAK,EAAE;IACjB,KAAK,CAAC;MACJC,MAAM,EAAE,GAAG;MACXC,OAAO,EAAE,gBAAgB;MACzBF,KAAK,EAAEA,KAAK,EAAEE,OAAO,IAAIF;IAC3B,CAAC,CAAC;EACJ;AACF;;AAEA;AACA,MAAMe,WAAW,SAASnB,YAAY,CAAC;EACrCE,WAAWA,CAACE,KAAK,EAAE;IACjB,KAAK,CAAC;MACJC,MAAM,EAAE,GAAG;MACXC,OAAO,EAAE,cAAc;MACvBF,KAAK,EAAEA,KAAK,EAAEE,OAAO,IAAIF;IAC3B,CAAC,CAAC;EACJ;AACF;;AAEA;AACA,MAAMgB,YAAY,GAAG;EACnBC,MAAM,EAAEA,CAACC,IAAI,EAAE,GAAGC,IAAI,KAAK;IACzB,QAAQD,IAAI;MACV,KAAK,YAAY;QACf,OAAO,IAAIV,eAAe,CAAC,GAAGW,IAAI,CAAC;MACrC,KAAK,gBAAgB;QACnB,OAAO,IAAIV,mBAAmB,CAAC,GAAGU,IAAI,CAAC;MACzC,KAAK,eAAe;QAClB,OAAO,IAAIT,kBAAkB,CAAC,GAAGS,IAAI,CAAC;MACxC,KAAK,UAAU;QACb,OAAO,IAAIR,aAAa,CAAC,GAAGQ,IAAI,CAAC;MACnC,KAAK,UAAU;QACb,OAAO,IAAIN,aAAa,CAAC,GAAGM,IAAI,CAAC;MACnC,KAAK,UAAU;QACb,OAAO,IAAIL,aAAa,CAAC,GAAGK,IAAI,CAAC;MACnC,KAAK,QAAQ;QACX,OAAO,IAAIJ,WAAW,CAAC,GAAGI,IAAI,CAAC;MACjC;QACE,OAAO,IAAIvB,YAAY,CAAC;UAAEM,OAAO,EAAEiB,IAAI,CAAC,CAAC;QAAE,CAAC,CAAC;IACjD;EACF;AACF,CAAC;;AAED;AACA,MAAMC,YAAY,GAAG;EACnB;EACAC,kBAAkB,EAAEA,CAAA,KAAM;IACxB,MAAM,IAAIV,aAAa,CAAC,MAAM,CAAC;EACjC,CAAC;EAEDW,kBAAkB,EAAGC,gBAAgB,IAAK;IACxC,MAAM,IAAIf,eAAe,CAAC,oBAAoB,EAAEe,gBAAgB,CAAC;EACnE,CAAC;EAEDC,mBAAmB,EAAGxB,KAAK,IAAK;IAC9B,MAAM,IAAIc,aAAa,CAACd,KAAK,CAAC;EAChC,CAAC;EAED;EACAyB,kBAAkB,EAAEA,CAACP,IAAI,EAAE,GAAGC,IAAI,KAAK;IACrC,MAAMH,YAAY,CAACC,MAAM,CAACC,IAAI,EAAE,GAAGC,IAAI,CAAC;EAC1C;AACF,CAAC;AAED,SACEvB,YAAY,EACZY,eAAe,EACfC,mBAAmB,EACnBC,kBAAkB,EAClBC,aAAa,EACbE,aAAa,EACbC,aAAa,EACbC,WAAW,EACXC,YAAY,EACZI,YAAY","ignoreList":[]}